import React from 'react';
import { Scale, Book, ChevronRight, Home, ArrowUp } from 'lucide-react';

const App = () => {
  // 指定したIDまでスクロールする関数
  const scrollTo = (id) => {
    const element = document.getElementById(id);
    if (element) {
      const offset = 80;
      const bodyRect = document.body.getBoundingClientRect().top;
      const elementRect = element.getBoundingClientRect().top;
      const elementPosition = elementRect - bodyRect;
      const offsetPosition = elementPosition - offset;

      window.scrollTo({
        top: offsetPosition,
        behavior: 'smooth'
      });
    }
  };

  return (
    <div className="min-h-screen bg-slate-50 text-slate-900 pb-20">
      {/* ナビゲーションバー */}
      <nav className="bg-white/90 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50">
        <div className="max-w-4xl mx-auto px-4 h-16 flex justify-between items-center">
          <div className="flex items-center gap-2">
            <Scale className="text-purple-700 w-6 h-6" />
            <h1 className="font-bold text-lg">サーバー法典</h1>
          </div>
          <button 
            onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
            className="p-2 hover:bg-slate-100 rounded-full text-slate-400"
          >
            <ArrowUp className="w-5 h-5" />
          </button>
        </div>
      </nav>

      <main className="max-w-3xl mx-auto px-4 py-10">
        {/* タイトル */}
        <div className="text-center mb-10">
          <h2 className="text-3xl font-bold mb-4">民法・民事訴訟法</h2>
          <div className="h-1 w-20 bg-purple-600 mx-auto rounded-full"></div>
        </div>

        {/* 冒頭の目次 (名前のみ) */}
        <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-12">
          <h3 className="font-bold text-slate-500 mb-6 flex items-center gap-2">
            <Book className="w-4 h-4" /> 目次
          </h3>
          
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            {/* 民法 */}
            <div className="space-y-3">
              <div className="text-purple-700 font-bold text-sm border-b pb-2">民法</div>
              <div className="flex flex-col gap-1">
                <button onClick={() => scrollTo('civ-1')} className="text-left text-slate-600 hover:text-purple-700 py-1 flex justify-between group">
                  <span>総則</span><ChevronRight className="w-4 h-4 opacity-0 group-hover:opacity-100" />
                </button>
                <button onClick={() => scrollTo('civ-2')} className="text-left text-slate-600 hover:text-purple-700 py-1 flex justify-between group">
                  <span>物権</span><ChevronRight className="w-4 h-4 opacity-0 group-hover:opacity-100" />
                </button>
                <button onClick={() => scrollTo('civ-3')} className="text-left text-slate-600 hover:text-purple-700 py-1 flex justify-between group">
                  <span>債権</span><ChevronRight className="w-4 h-4 opacity-0 group-hover:opacity-100" />
                </button>
              </div>
            </div>

            {/* 民事訴訟法 */}
            <div className="space-y-3">
              <div className="text-indigo-700 font-bold text-sm border-b pb-2">民事訴訟法</div>
              <div className="flex flex-col gap-1">
                <button onClick={() => scrollTo('proc-1')} className="text-left text-slate-600 hover:text-indigo-700 py-1 flex justify-between group">
                  <span>総則・管轄</span><ChevronRight className="w-4 h-4 opacity-0 group-hover:opacity-100" />
                </button>
                <button onClick={() => scrollTo('proc-2')} className="text-left text-slate-600 hover:text-indigo-700 py-1 flex justify-between group">
                  <span>訴え・審理</span><ChevronRight className="w-4 h-4 opacity-0 group-hover:opacity-100" />
                </button>
                <button onClick={() => scrollTo('proc-3')} className="text-left text-slate-600 hover:text-indigo-700 py-1 flex justify-between group">
                  <span>判決・執行</span><ChevronRight className="w-4 h-4 opacity-0 group-hover:opacity-100" />
                </button>
              </div>
            </div>
          </div>
        </div>

        {/* 本文 */}
        <div className="space-y-20">
          {/* 民法本文 */}
          <section id="civ-1">
            <h3 className="text-xl font-bold text-purple-900 mb-6 flex items-center gap-2">
              <span className="w-1.5 h-6 bg-purple-600 rounded-full"></span>
              民法：総則
            </h3>
            <div className="space-y-4">
              <Article title="第1条（目的）" content="この法律は、私人間における財産関係及び責任関係を定め、自由で公正な社会秩序の形成を目的とする。" />
              <Article title="第2条（信義誠実の原則）" content={"1. 権利の行使及び義務の履行は、信義に従い誠実に行わなければならない。\n2. 権利は、これを濫用してはならない。"} />
            </div>
          </section>

          <section id="civ-2">
            <h3 className="text-xl font-bold text-purple-900 mb-6 flex items-center gap-2">
              <span className="w-1.5 h-6 bg-purple-600 rounded-full"></span>
              民法：物権
            </h3>
            <div className="space-y-4">
              <Article title="第11条（物権の定義）" content="物権は、物を直接支配する権利とする。" />
              <Article title="第12条（所有権）" content="所有者は、法令の制限内において、自由にその物を使用し、収益し、処分することができる。" />
            </div>
          </section>

          <section id="civ-3">
            <h3 className="text-xl font-bold text-purple-900 mb-6 flex items-center gap-2">
              <span className="w-1.5 h-6 bg-purple-600 rounded-full"></span>
              民法：債権
            </h3>
            <div className="space-y-4">
              <Article title="第19条（不法行為責任）" content="故意又は過失により、他人の権利又は法律上保護される利益を侵害した者は、損害を賠償する責任を負う。" />
              <Article title="第20条（損害賠償の方法）" content="損害賠償は、原則として金銭によって行う。" />
            </div>
          </section>

          <div className="border-t border-slate-200 my-10"></div>

          {/* 民事訴訟法本文 */}
          <section id="proc-1">
            <h3 className="text-xl font-bold text-indigo-900 mb-6 flex items-center gap-2">
              <span className="w-1.5 h-6 bg-indigo-600 rounded-full"></span>
              民事訴訟法：総則・管轄
            </h3>
            <div className="space-y-4">
              <Article title="第1条（目的）" content="この法律は、民事上の権利義務に関する紛争を、公正かつ迅速に解決するための手続を定めることを目的とする。" />
              <Article title="第2条（一審制の原則）" content={"1. 民事裁判は、原則として一回の審理（第一審）によって終局的に解決される。\n2. 本法に定める再審を除き、判決に対する不服申立ては認められない。"} />
            </div>
          </section>

          <section id="proc-2">
            <h3 className="text-xl font-bold text-indigo-900 mb-6 flex items-center gap-2">
              <span className="w-1.5 h-6 bg-indigo-600 rounded-full"></span>
              民事訴訟法：訴え・審理
            </h3>
            <div className="space-y-4">
              <Article title="第8条（訴状）" content={"訴えは、次に掲げる事項を記載した訴状を裁判所に提出して提起する。\n1. 当事者の表示\n2. 請求の趣旨\n3. 請求の原因"} />
            </div>
          </section>

          <section id="proc-3">
            <h3 className="text-xl font-bold text-indigo-900 mb-6 flex items-center gap-2">
              <span className="w-1.5 h-6 bg-indigo-600 rounded-full"></span>
              民事訴訟法：判決・執行
            </h3>
            <div className="space-y-4">
              <Article title="第15条（判決）" content="裁判所は、審理を終結したときは、判決を言い渡す。" />
              <Article title="第22条（執行）" content="確定判決は、強制執行の根拠となる。" />
            </div>
          </section>
        </div>

        {/* 戻るボタン */}
        <div className="mt-20 text-center">
          <button className="px-6 py-3 bg-slate-900 text-white rounded-xl font-bold flex items-center gap-2 mx-auto hover:bg-slate-800 transition-colors">
            <Home className="w-4 h-4" /> 統合ポータルへ
          </button>
        </div>
      </main>
    </div>
  );
};

// 条文カードコンポーネント
const Article = ({ title, content }) => (
  <div className="bg-white p-5 rounded-xl border border-slate-100 shadow-sm hover:border-purple-200 transition-colors">
    <div className="text-purple-800 font-bold mb-2 flex items-center gap-2">
      <div className="w-1 h-3 bg-purple-300 rounded-full"></div>
      {title}
    </div>
    <div className="text-slate-700 text-[15px] leading-relaxed whitespace-pre-wrap">
      {content}
    </div>
  </div>
);

export default App;

